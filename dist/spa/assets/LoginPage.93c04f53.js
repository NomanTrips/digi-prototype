import{ag as u,af as d,ah as m,aA as p,ap as n,a5 as c,aq as f,ak as s,aj as t,aB as g,aD as h,W as r,am as w,an as _,aC as b,aF as i,aI as V}from"./index.ebc98563.js";import{Q as y,a as S}from"./QForm.96214771.js";import{a as k}from"./index.becf6c0c.js";const Q=d({name:"LoginPage",data:function(){return{username:"",password:"",accept:!0,is_failure:!1,err_msg:""}},created:function(){},methods:{onSubmit:function(){var e=this;e.is_failure=!1;const o={"Content-Type":"application/json"};k.post("http://localhost:3000/users/login",{username:e.username,password:e.password},{headers:o}).then(function(l){console.log(l),l.status===200?(console.log(`login resp data:  ${l.data}`),localStorage.user_id=l.data.user_id,e.$router.push("/")):(e.is_failure=!0,e.err_msg="Unknown")}).catch(function(l){console.log(l),e.is_failure=!0,e.err_msg="error"})}}}),v={class:"q-pa-md q-gutter-sm"},$={class:"q-pa-md row justify-center"},B={style:{width:"100%","max-width":"500px"}};function C(e,o,l,q,P,U){return m(),p(h,null,[n("div",v,[c(s(y,{"inline-actions":"",rounded:"",class:"bg-orange text-white"},{action:t(()=>[s(r,{flat:"",label:"Dismiss"})]),default:t(()=>[w(" Sign in failed: "+_()+" ",1)]),_:1},512),[[f,e.is_failure]])]),n("div",$,[n("div",B,[s(g,{class:"my-card"},{default:t(()=>[s(b,null,{default:t(()=>[s(S,{onSubmit:e.onSubmit,onReset:e.onReset,class:"q-gutter-md"},{default:t(()=>[s(i,{filled:"",color:"pink",modelValue:e.username,"onUpdate:modelValue":o[0]||(o[0]=a=>e.username=a),label:"Username","lazy-rules":"",rules:[a=>a&&a.length>0||"Please enter your username"]},null,8,["modelValue","rules"]),s(i,{filled:"",color:"pink",modelValue:e.password,"onUpdate:modelValue":o[1]||(o[1]=a=>e.password=a),label:"Password","lazy-rules":"",rules:[a=>a!==null&&a!==""||"Please type your password"]},null,8,["modelValue","rules"]),s(V,{color:"pink",modelValue:e.accept,"onUpdate:modelValue":o[2]||(o[2]=a=>e.accept=a),label:"I agree to the ai pledge"},null,8,["modelValue"]),n("div",null,[s(r,{outline:"",label:"Login",type:"submit",color:"pink"}),s(r,{outline:"",label:"Signup",color:"pink",to:"/signup"})])]),_:1},8,["onSubmit","onReset"])]),_:1})]),_:1})])])],64)}var I=u(Q,[["render",C]]);export{I as default};
