var ce=Object.defineProperty,de=Object.defineProperties;var fe=Object.getOwnPropertyDescriptors;var H=Object.getOwnPropertySymbols;var ve=Object.prototype.hasOwnProperty,ge=Object.prototype.propertyIsEnumerable;var Q=(e,o,a)=>o in e?ce(e,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[o]=a,r=(e,o)=>{for(var a in o||(o={}))ve.call(o,a)&&Q(e,a,o[a]);if(H)for(var a of H(o))ge.call(o,a)&&Q(e,a,o[a]);return e},b=(e,o)=>de(e,fe(o));import{c as G,a as n,h as C,b as N,C as me,D as he,al as ke,E as Pe,r as I,F as Te,am as ye,G as be,an as Ce,H as qe,ao as Se,w as L,ap as Be,aq as K,ar as we,z as xe,as as Oe,P as Ee,at as Fe,au as _e,e as De,g as Me,av as Ae,aw as Re,B as He}from"./index.e7b62ae1.js";import{u as Qe,v as W,d as Ie,e as Le,f as Ke,p as j,g as We,r as z,s as je}from"./position-engine.20e2b198.js";var Ue=G({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:o}){const a=n(()=>parseInt(e.lines,10)),d=n(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(a.value===1?" ellipsis":"")),l=n(()=>e.lines!==void 0&&a.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":a.value}:null);return()=>C("div",{style:l.value,class:d.value},N(o.default))}}),$e=G({name:"QMenu",inheritAttrs:!1,props:b(r(r(r(r({},Qe),me),he),ke),{persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:W},self:{type:String,validator:W},offset:{type:Array,validator:Ie},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}}),emits:[...Pe,"click","escape-key"],setup(e,{slots:o,emit:a,attrs:d}){let l=null,g,f,m;const q=Me(),{proxy:h}=q,{$q:s}=h,u=I(null),i=I(!1),U=n(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),$=Te(e,s),{registerTick:J,removeTick:S}=ye(),{registerTimeout:B,removeTimeout:w}=be(),{transition:V,transitionStyle:X}=Ce(e,i),{localScrollTarget:x,changeScrollEvent:Y,unconfigureScrollTarget:Z}=Le(e,A),{anchorEl:c,canShow:p}=Ke({showing:i}),{hide:O}=qe({showing:i,canShow:p,handleShow:ne,handleHide:le,hideOnRouteChange:U,processOnMount:!0}),{showPortal:E,hidePortal:F,renderPortal:ee}=Se(q,u,ue),k={anchorEl:c,innerRef:u,onClickOutside(t){if(e.persistent!==!0&&i.value===!0)return O(t),(t.type==="touchstart"||t.target.classList.contains("q-dialog__backdrop"))&&He(t),!0}},_=n(()=>j(e.anchor||(e.cover===!0?"center middle":"bottom start"),s.lang.rtl)),te=n(()=>e.cover===!0?_.value:j(e.self||"top start",s.lang.rtl)),ae=n(()=>(e.square===!0?" q-menu--square":"")+($.value===!0?" q-menu--dark q-dark":"")),oe=n(()=>e.autoClose===!0?{onClick:se}:{}),D=n(()=>i.value===!0&&e.persistent!==!0);L(D,t=>{t===!0?(Be(T),We(k)):(K(T),z(k))});function P(){Ae(()=>{let t=u.value;t&&t.contains(document.activeElement)!==!0&&(t=t.querySelector("[autofocus], [data-autofocus]")||t,t.focus({preventScroll:!0}))})}function ne(t){if(S(),w(),l=e.noRefocus===!1?document.activeElement:null,we(R),E(),A(),g=void 0,t!==void 0&&(e.touchPosition||e.contextMenu)){const y=xe(t);if(y.left!==void 0){const{top:ie,left:re}=c.value.getBoundingClientRect();g={left:y.left-re,top:y.top-ie}}}f===void 0&&(f=L(()=>s.screen.width+"|"+s.screen.height+"|"+e.self+"|"+e.anchor+"|"+s.lang.rtl,v)),e.noFocus!==!0&&document.activeElement.blur(),J(()=>{v(),e.noFocus!==!0&&P()}),B(()=>{s.platform.is.ios===!0&&(m=e.autoClose,u.value.click()),v(),E(!0),a("show",t)},e.transitionDuration)}function le(t){S(),w(),F(),M(!0),l!==null&&(t===void 0||t.qClickOutside!==!0)&&(l.focus(),l=null),B(()=>{F(!0),a("hide",t)},e.transitionDuration)}function M(t){g=void 0,f!==void 0&&(f(),f=void 0),(t===!0||i.value===!0)&&(Oe(R),Z(),z(k),K(T)),t!==!0&&(l=null)}function A(){(c.value!==null||e.scrollTarget!==void 0)&&(x.value=Ee(c.value,e.scrollTarget),Y(x.value,v))}function se(t){m!==!0?(Fe(h,t),a("click",t)):m=!1}function R(t){D.value===!0&&e.noFocus!==!0&&Re(u.value,t.target)!==!0&&P()}function T(t){a("escape-key"),O(t)}function v(){const t=u.value;t===null||c.value===null||je({el:t,offset:e.offset,anchorEl:c.value,anchorOrigin:_.value,selfOrigin:te.value,absoluteOffset:g,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ue(){return C(_e,{name:V.value,appear:!0},()=>i.value===!0?C("div",r(b(r({},d),{ref:u,tabindex:-1,class:["q-menu q-position-engine scroll"+ae.value,d.class],style:[d.style,X.value]}),oe.value),N(o.default)):null)}return De(M),Object.assign(h,{focus:P,updatePosition:v}),ee}});export{$e as Q,Ue as a};
