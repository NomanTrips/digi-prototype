import{_ as p,X as f,Y as w,aF as b,a5 as n,K as r,a6 as d,a0 as s,$ as i,ad as y,aG as V,d as u,ae as g,aI as t,Q as m,a2 as P}from"./index.e7b62ae1.js";import{Q as k}from"./QBanner.0e61d121.js";import{Q as c}from"./QForm.714f1e98.js";import{a as h}from"./index.becf6c0c.js";import"./lodash.e6c87188.js";const v=f({name:"SignupPage",data:function(){return{username:"",password:"",retyped_password:"",firstname:"",lastname:"",middle_initial:"",dob:"",email:"",google_tf:!1,username_pw_tf:!0,accept:!0,is_failure:!1,isPwd:!0}},created:function(){},methods:{onSubmit:function(){var e=this;e.is_failure=!1,e.dob="19880719",console.log(e.dob);const a={"Content-Type":"application/json"};h.post("https://digissist-server.azurewebsites.net/users/create",{first_name:e.firstname,middle_initial:e.middle_initial,last_name:e.lastname,date_of_birth:e.dob,username:e.username,password:e.password,email:e.email},{headers:a}).then(function(o){console.log(o),o.status===200?(localStorage.user_id=o.data.user_id,localStorage.token=o.data.token,localStorage.username=o.data.username,e.$router.push("/")):e.is_failure=!0}).catch(function(o){console.log(o),e.is_failure=!0})}}}),S={class:"q-pa-md q-gutter-sm"},Q=P(" User account creation failed. Please try again. "),U={class:"q-pa-md row justify-center"},$={style:{width:"100%","max-width":"500px"}},C=n("div",{class:"q-pa-sm text-h6"},"Please enter the following fields:",-1);function q(e,a,o,z,B,_){return w(),b(V,null,[n("div",S,[r(s(k,{"inline-actions":"",rounded:"",class:"bg-orange text-white"},{action:i(()=>[s(u,{flat:"",label:"Dismiss"})]),default:i(()=>[Q]),_:1},512),[[d,e.is_failure]])]),n("div",U,[n("div",$,[s(y,{class:"my-card"},{default:i(()=>[r(s(g,null,{default:i(()=>[C,s(c,{onSubmit:e.onSubmit,class:"q-gutter-md"},{default:i(()=>[s(t,{filled:"",color:"pink",modelValue:e.username,"onUpdate:modelValue":a[0]||(a[0]=l=>e.username=l),label:"Username*","label-color":"pink","lazy-rules":"",rules:[l=>l&&l.length>0||"Please enter your username"]},null,8,["modelValue","rules"]),s(t,{filled:"",type:e.isPwd?"password":"text",color:"pink",modelValue:e.password,"onUpdate:modelValue":a[2]||(a[2]=l=>e.password=l),label:"Password*","label-color":"pink","lazy-rules":"",rules:[l=>l!==null&&l!==""||"Please type your password",l=>l.length>=8||"Password must be at least 8 characters long.",l=>l.match(/\W|_/g)!=null||"Password must contain at least one special character.",l=>l.match(/\d+/g)!=null||"Password must contain at least one number.",l=>l.match(/[a-zA-Z]/)!=null||"Password must contain at least letter."]},{append:i(()=>[s(m,{name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:a[1]||(a[1]=l=>e.isPwd=!e.isPwd)},null,8,["name"])]),_:1},8,["type","modelValue","rules"]),s(t,{filled:"",type:e.isPwd?"password":"text",color:"pink",modelValue:e.retyped_password,"onUpdate:modelValue":a[4]||(a[4]=l=>e.retyped_password=l),label:"Re-type password:*","label-color":"pink","lazy-rules":"",rules:[l=>l!==null&&l!==""||"Please re-type your password",l=>l===e.password||"Password does not match."]},{append:i(()=>[s(m,{name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:a[3]||(a[3]=l=>e.isPwd=!e.isPwd)},null,8,["name"])]),_:1},8,["type","modelValue","rules"]),s(t,{color:"pink",modelValue:e.email,"onUpdate:modelValue":a[5]||(a[5]=l=>e.email=l),filled:"",type:"email",label:"Email*","label-color":"pink"},null,8,["modelValue"]),s(t,{filled:"",color:"pink",modelValue:e.firstname,"onUpdate:modelValue":a[6]||(a[6]=l=>e.firstname=l),label:"Firstname*","label-color":"pink"},null,8,["modelValue"]),r(s(t,{filled:"",color:"pink",modelValue:e.middle_initial,"onUpdate:modelValue":a[7]||(a[7]=l=>e.middle_initial=l),label:"Middle initial",hint:"Optional"},null,8,["modelValue"]),[[d,!1]]),s(t,{filled:"",color:"pink",modelValue:e.lastname,"onUpdate:modelValue":a[8]||(a[8]=l=>e.lastname=l),label:"Lastname*","label-color":"pink"},null,8,["modelValue"]),r(s(t,{color:"pink",modelValue:e.dob,"onUpdate:modelValue":a[9]||(a[9]=l=>e.dob=l),filled:"",type:"date",hint:"Date of birth - Optional"},null,8,["modelValue"]),[[d,!1]]),n("div",null,[s(u,{outline:"",label:"Create",type:"submit",color:"pink"})])]),_:1},8,["onSubmit"])]),_:1},512),[[d,e.username_pw_tf]])]),_:1})])])],64)}var E=p(v,[["render",q]]);export{E as default};
