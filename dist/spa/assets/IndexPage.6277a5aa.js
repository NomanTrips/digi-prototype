var pl=Object.defineProperty,Sl=Object.defineProperties;var yl=Object.getOwnPropertyDescriptors;var Ht=Object.getOwnPropertySymbols;var _l=Object.prototype.hasOwnProperty,bl=Object.prototype.propertyIsEnumerable;var Tt=(e,l,n)=>l in e?pl(e,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[l]=n,T=(e,l)=>{for(var n in l||(l={}))_l.call(l,n)&&Tt(e,n,l[n]);if(Ht)for(var n of Ht(l))bl.call(l,n)&&Tt(e,n,l[n]);return e},W=(e,l)=>Sl(e,yl(l));import{Q as wl,a as vt,b as Ut,d as Kt,f as Mt,g as Bt,e as Cl,C as ut}from"./ClosePopup.dcbb3387.js";import{c as Fe,a as h,h as s,aB as xl,aC as Vl,aD as kl,D as zl,af as Il,F as ql,ag as Al,L as Hl,a9 as Wt,g as mt,Q as Je,ah as Tl,B as ce,aE as gt,aF as Xt,aG as Yt,aH as Gt,f as Ml,r as B,w as Ve,n as ne,aI as Bl,aJ as Ol,aK as $l,aL as El,e as Jt,aM as Rl,aN as Fl,aO as Ot,aP as $e,aQ as Ll,aR as Pl,ab as Ze,y as rt,aS as Dl,s as Ce,aT as $t,ak as Nl,aU as Ql,W as jl,_ as Ul,X as Kl,Y as Ee,aV as st,a5 as K,a0 as f,$ as S,ac as Ke,ad as ae,aW as Et,aX as Rt,K as Z,a6 as xe,aa as We,aY as Ft,d as se,ae as Xe,a2 as de,a3 as Lt,aZ as Wl,a_ as Xl,Z as Pt,a7 as Yl,a8 as Gl}from"./index.0357c8b5.js";import{a as Dt}from"./index.becf6c0c.js";import{_ as Ye}from"./lodash.e6c87188.js";var ct=Fe({name:"QChatMessage",props:{sent:Boolean,label:String,bgColor:String,textColor:String,name:String,avatar:String,text:Array,stamp:String,size:String,labelHtml:Boolean,nameHtml:Boolean,textHtml:Boolean,stampHtml:Boolean},setup(e,{slots:l}){const n=h(()=>e.sent===!0?"sent":"received"),v=h(()=>`q-message-text-content q-message-text-content--${n.value}`+(e.textColor!==void 0?` text-${e.textColor}`:"")),V=h(()=>`q-message-text q-message-text--${n.value}`+(e.bgColor!==void 0?` text-${e.bgColor}`:"")),r=h(()=>"q-message-container row items-end no-wrap"+(e.sent===!0?" reverse":"")),d=h(()=>e.size!==void 0?`col-${e.size}`:""),p=h(()=>({msg:e.textHtml===!0?"innerHTML":"textContent",stamp:e.stampHtml===!0?"innerHTML":"textContent",name:e.nameHtml===!0?"innerHTML":"textContent",label:e.labelHtml===!0?"innerHTML":"textContent"}));function b(c){return l.stamp!==void 0?[c,s("div",{class:"q-message-stamp"},l.stamp())]:e.stamp?[c,s("div",{class:"q-message-stamp",[p.value.stamp]:e.stamp})]:[c]}function H(c,C){const z=C===!0?c.length>1?m=>m:m=>s("div",[m]):m=>s("div",{[p.value.msg]:m});return c.map((m,F)=>s("div",{key:F,class:V.value},[s("div",{class:v.value},b(z(m)))]))}return()=>{const c=[];l.avatar!==void 0?c.push(l.avatar()):e.avatar!==void 0&&c.push(s("img",{class:`q-message-avatar q-message-avatar--${n.value}`,src:e.avatar,"aria-hidden":"true"}));const C=[];l.name!==void 0?C.push(s("div",{class:`q-message-name q-message-name--${n.value}`},l.name())):e.name!==void 0&&C.push(s("div",{class:`q-message-name q-message-name--${n.value}`,[p.value.name]:e.name})),l.default!==void 0?C.push(H(xl(l.default()),!0)):e.text!==void 0&&C.push(H(e.text)),c.push(s("div",{class:d.value},C));const z=[];return l.label!==void 0?z.push(s("div",{class:"q-message-label"},l.label())):e.label!==void 0&&z.push(s("div",{class:"q-message-label",[p.value.label]:e.label})),z.push(s("div",{class:r.value},c)),s("div",{class:`q-message q-message-${n.value}`},z)}}});const Jl=[s("circle",{cx:"15",cy:"15",r:"15"},[s("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),s("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})]),s("circle",{cx:"60",cy:"15",r:"9","fill-opacity":".3"},[s("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),s("animate",{attributeName:"fill-opacity",from:".5",to:".5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})]),s("circle",{cx:"105",cy:"15",r:"15"},[s("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),s("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})])];var Zl=Fe({name:"QSpinnerDots",props:Vl,setup(e){const{cSize:l,classes:n}=kl(e);return()=>s("svg",{class:n.value,fill:"currentColor",width:l.value,height:l.value,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg"},Jl)}});const ea={xs:8,sm:10,md:14,lg:20,xl:24};var Zt=Fe({name:"QChip",props:W(T(T({},zl),Il),{dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}}),emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:l,emit:n}){const{proxy:{$q:v}}=mt(),V=ql(e,v),r=Al(e,ea),d=h(()=>e.selected===!0||e.icon!==void 0),p=h(()=>e.selected===!0?e.iconSelected||v.iconSet.chip.selected:e.icon),b=h(()=>e.iconRemove||v.iconSet.chip.remove),H=h(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),c=h(()=>{const k=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(k?` text-${k} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(H.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(V.value===!0?" q-chip--dark q-dark":"")}),C=h(()=>e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0});function z(k){k.keyCode===13&&m(k)}function m(k){e.disable||(n("update:selected",!e.selected),n("click",k))}function F(k){(k.keyCode===void 0||k.keyCode===13)&&(ce(k),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function L(){const k=[];H.value===!0&&k.push(s("div",{class:"q-focus-helper"})),d.value===!0&&k.push(s(Je,{class:"q-chip__icon q-chip__icon--left",name:p.value}));const Y=e.label!==void 0?[s("div",{class:"ellipsis"},[e.label])]:void 0;return k.push(s("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Tl(l.default,Y))),e.iconRight&&k.push(s(Je,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&k.push(s(Je,W(T({class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:b.value},C.value),{onClick:F,onKeyup:F}))),k}return()=>{if(e.modelValue===!1)return;const k={class:c.value,style:r.value};return H.value===!0&&Object.assign(k,C.value,{onClick:m,onKeyup:z}),Hl("div",k,L(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Wt,e.ripple]])}}}),ta=Fe({name:"QField",inheritAttrs:!1,props:gt,emits:Xt,setup(){return Yt(Gt())}});let et=!1;{const e=document.createElement("div"),l=document.createElement("div");e.setAttribute("dir","rtl"),e.style.width="1px",e.style.height="1px",e.style.overflow="auto",l.style.width="1000px",l.style.height="1px",document.body.appendChild(e),e.appendChild(l),e.scrollLeft=-1e3,et=e.scrollLeft>=0,e.remove()}const X=1e3,la=["start","center","end","start-force","center-force","end-force"],el=Array.prototype.filter,aa=window.getComputedStyle(document.body).overflowAnchor===void 0?Ml:function(e,l){requestAnimationFrame(()=>{if(e===void 0)return;const n=e.children||[];el.call(n,V=>V.dataset&&V.dataset.qVsAnchor!==void 0).forEach(V=>{delete V.dataset.qVsAnchor});const v=n[l];v&&v.dataset&&(v.dataset.qVsAnchor="")})};function ke(e,l){return e+l}function dt(e,l,n,v,V,r,d,p){const b=e===window?document.scrollingElement||document.documentElement:e,H=V===!0?"offsetWidth":"offsetHeight",c={scrollStart:0,scrollViewSize:-d-p,scrollMaxSize:0,offsetStart:-d,offsetEnd:-p};if(V===!0?(e===window?(c.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,c.scrollViewSize+=document.documentElement.clientWidth):(c.scrollStart=b.scrollLeft,c.scrollViewSize+=b.clientWidth),c.scrollMaxSize=b.scrollWidth,r===!0&&(c.scrollStart=(et===!0?c.scrollMaxSize-c.scrollViewSize:0)-c.scrollStart)):(e===window?(c.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,c.scrollViewSize+=document.documentElement.clientHeight):(c.scrollStart=b.scrollTop,c.scrollViewSize+=b.clientHeight),c.scrollMaxSize=b.scrollHeight),n!==null)for(let C=n.previousElementSibling;C!==null;C=C.previousElementSibling)C.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetStart+=C[H]);if(v!==null)for(let C=v.nextElementSibling;C!==null;C=C.nextElementSibling)C.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetEnd+=C[H]);if(l!==e){const C=b.getBoundingClientRect(),z=l.getBoundingClientRect();V===!0?(c.offsetStart+=z.left-C.left,c.offsetEnd-=z.width):(c.offsetStart+=z.top-C.top,c.offsetEnd-=z.height),e!==window&&(c.offsetStart+=c.scrollStart),c.offsetEnd+=c.scrollMaxSize-c.offsetStart}return c}function Nt(e,l,n,v){l==="end"&&(l=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(v===!0&&(l=(et===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-l),window.scrollTo(l,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,l):n===!0?(v===!0&&(l=(et===!0?e.scrollWidth-e.offsetWidth:0)-l),e.scrollLeft=l):e.scrollTop=l}function Re(e,l,n,v){if(n>=v)return 0;const V=l.length,r=Math.floor(n/X),d=Math.floor((v-1)/X)+1;let p=e.slice(r,d).reduce(ke,0);return n%X!==0&&(p-=l.slice(r*X,n).reduce(ke,0)),v%X!==0&&v!==V&&(p-=l.slice(v,d*X).reduce(ke,0)),p}const na={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},oa=T({virtualScrollHorizontal:Boolean,onVirtualScroll:Function},na);function ia({virtualScrollLength:e,getVirtualScrollTarget:l,getVirtualScrollEl:n,virtualScrollItemSizeComputed:v}){const V=mt(),{props:r,emit:d,proxy:p}=V,{$q:b}=p;let H,c,C,z=[],m;const F=B(0),L=B(0),k=B({}),Y=B(null),N=B(null),te=B(null),$=B({from:0,to:0}),O=h(()=>r.tableColspan!==void 0?r.tableColspan:100);v===void 0&&(v=h(()=>r.virtualScrollItemSize));const ee=h(()=>v.value+";"+r.virtualScrollHorizontal),ze=h(()=>ee.value+";"+r.virtualScrollSliceRatioBefore+";"+r.virtualScrollSliceRatioAfter);Ve(ze,()=>{le()}),Ve(ee,fe);function fe(){He(c,!0)}function Ie(a){He(a===void 0?c:a)}function oe(a,i){const y=l();if(y==null||y.nodeType===8)return;const A=dt(y,n(),Y.value,N.value,r.virtualScrollHorizontal,b.lang.rtl,r.virtualScrollStickySizeStart,r.virtualScrollStickySizeEnd);C!==A.scrollViewSize&&le(A.scrollViewSize),ve(y,A,Math.min(e.value-1,Math.max(0,parseInt(a,10)||0)),0,la.indexOf(i)>-1?i:c>-1&&a>c?"end":"start")}function G(){const a=l();if(a==null||a.nodeType===8)return;const i=dt(a,n(),Y.value,N.value,r.virtualScrollHorizontal,b.lang.rtl,r.virtualScrollStickySizeStart,r.virtualScrollStickySizeEnd),y=e.value-1,A=i.scrollMaxSize-i.offsetStart-i.offsetEnd-L.value;if(H===i.scrollStart)return;if(i.scrollMaxSize<=0){ve(a,i,0,0);return}C!==i.scrollViewSize&&le(i.scrollViewSize),qe($.value.from);const E=Math.floor(i.scrollMaxSize-Math.max(i.scrollViewSize,i.offsetEnd)-Math.min(m[y],i.scrollViewSize/2));if(E>0&&Math.ceil(i.scrollStart)>=E){ve(a,i,y,i.scrollMaxSize-i.offsetEnd-z.reduce(ke,0));return}let x=0,w=i.scrollStart-i.offsetStart,R=w;if(w<=A&&w+i.scrollViewSize>=F.value)w-=F.value,x=$.value.from,R=w;else for(let _=0;w>=z[_]&&x<y;_++)w-=z[_],x+=X;for(;w>0&&x<y;)w-=m[x],w>-i.scrollViewSize?(x++,R=w):R=m[x]+w;ve(a,i,x,R)}function ve(a,i,y,A,E){const x=typeof E=="string"&&E.indexOf("-force")>-1,w=x===!0?E.replace("-force",""):E,R=w!==void 0?w:"start";let _=Math.max(0,y-k.value[R]),Q=_+k.value.total;Q>e.value&&(Q=e.value,_=Math.max(0,Q-k.value.total)),H=i.scrollStart;const ge=_!==$.value.from||Q!==$.value.to;if(ge===!1&&w===void 0){Pe(y);return}const{activeElement:Me}=document,J=te.value;ge===!0&&J!==null&&J!==Me&&J.contains(Me)===!0&&(J.addEventListener("focusout",Ae),setTimeout(()=>{J!==void 0&&J.removeEventListener("focusout",Ae)})),aa(J,y-_);const De=w!==void 0?m.slice(_,y).reduce(ke,0):0;if(ge===!0){const ie=Q>=$.value.from&&_<=$.value.to?$.value.to:Q;$.value={from:_,to:ie},F.value=Re(z,m,0,_),L.value=Re(z,m,Q,e.value),requestAnimationFrame(()=>{$.value.to!==Q&&H===i.scrollStart&&($.value={from:$.value.from,to:Q},L.value=Re(z,m,Q,e.value))})}requestAnimationFrame(()=>{if(H!==i.scrollStart)return;ge===!0&&qe(_);const ie=m.slice(_,y).reduce(ke,0),he=ie+i.offsetStart+F.value,Ne=he+m[y];let Be=he+A;if(w!==void 0){const tt=ie-De,j=i.scrollStart+tt;Be=x!==!0&&j<he&&Ne<j+i.scrollViewSize?j:w==="end"?Ne-i.scrollViewSize:he-(w==="start"?0:Math.round((i.scrollViewSize-m[y])/2))}H=Be,Nt(a,Be,r.virtualScrollHorizontal,b.lang.rtl),Pe(y)})}function qe(a){const i=te.value;if(i){const y=el.call(i.children,_=>_.classList&&_.classList.contains("q-virtual-scroll--skip")===!1),A=y.length,E=r.virtualScrollHorizontal===!0?_=>_.getBoundingClientRect().width:_=>_.offsetHeight;let x=a,w,R;for(let _=0;_<A;){for(w=E(y[_]),_++;_<A&&y[_].classList.contains("q-virtual-scroll--with-prev")===!0;)w+=E(y[_]),_++;R=w-m[x],R!==0&&(m[x]+=R,z[Math.floor(x/X)]+=R),x++}}}function Ae(){te.value!==void 0&&te.value.focus()}function He(a,i){const y=1*v.value;(i===!0||Array.isArray(m)===!1)&&(m=[]);const A=m.length;m.length=e.value;for(let x=e.value-1;x>=A;x--)m[x]=y;const E=Math.floor((e.value-1)/X);z=[];for(let x=0;x<=E;x++){let w=0;const R=Math.min((x+1)*X,e.value);for(let _=x*X;_<R;_++)w+=m[_];z.push(w)}c=-1,H=void 0,F.value=Re(z,m,0,$.value.from),L.value=Re(z,m,$.value.to,e.value),a>=0?(qe($.value.from),ne(()=>{oe(a)})):me()}function le(a){if(a===void 0&&typeof window!="undefined"){const w=l();w!=null&&w.nodeType!==8&&(a=dt(w,n(),Y.value,N.value,r.virtualScrollHorizontal,b.lang.rtl,r.virtualScrollStickySizeStart,r.virtualScrollStickySizeEnd).scrollViewSize)}C=a;const i=parseFloat(r.virtualScrollSliceRatioBefore)||0,y=parseFloat(r.virtualScrollSliceRatioAfter)||0,A=1+i+y,E=a===void 0||a<=0?1:Math.ceil(a/v.value),x=Math.max(1,E,Math.ceil((r.virtualScrollSliceSize>0?r.virtualScrollSliceSize:10)/A));k.value={total:Math.ceil(x*A),start:Math.ceil(x*i),center:Math.ceil(x*(.5+i)),end:Math.ceil(x*(1+i)),view:E}}function Le(a,i){const y=r.virtualScrollHorizontal===!0?"width":"height",A={["--q-virtual-scroll-item-"+y]:v.value+"px"};return[a==="tbody"?s(a,{class:"q-virtual-scroll__padding",key:"before",ref:Y},[s("tr",[s("td",{style:T({[y]:`${F.value}px`},A),colspan:O.value})])]):s(a,{class:"q-virtual-scroll__padding",key:"before",ref:Y,style:T({[y]:`${F.value}px`},A)}),s(a,{class:"q-virtual-scroll__content",key:"content",ref:te,tabindex:-1},i.flat()),a==="tbody"?s(a,{class:"q-virtual-scroll__padding",key:"after",ref:N},[s("tr",[s("td",{style:T({[y]:`${L.value}px`},A),colspan:O.value})])]):s(a,{class:"q-virtual-scroll__padding",key:"after",ref:N,style:T({[y]:`${L.value}px`},A)})]}function Pe(a){c!==a&&(r.onVirtualScroll!==void 0&&d("virtual-scroll",{index:a,from:$.value.from,to:$.value.to-1,direction:a<c?"decrease":"increase",ref:p}),c=a)}le();const me=Bl(G,b.platform.is.ios===!0?120:35);Ol(()=>{le()});let Te=!1;return $l(()=>{Te=!0}),El(()=>{if(Te!==!0)return;const a=l();H!==void 0&&a!==void 0&&a!==null&&a.nodeType!==8?Nt(a,H,r.virtualScrollHorizontal,b.lang.rtl):oe(c)}),Jt(()=>{me.cancel()}),Object.assign(p,{scrollTo:oe,reset:fe,refresh:Ie}),{virtualScrollSliceRange:$,virtualScrollSliceSizeComputed:k,setVirtualScrollSize:le,onVirtualScrollEvt:me,localResetVirtualScroll:He,padVirtualScroll:Le,scrollTo:oe,reset:fe,refresh:Ie}}const Qt=e=>["add","add-unique","toggle"].includes(e),ua=".*+?^${}()|[]\\",ra=Object.keys(gt);var sa=Fe({name:"QSelect",inheritAttrs:!1,props:W(T(T(T({},oa),Rl),gt),{modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Qt},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function}),emits:[...Xt,"add","remove","input-value","keyup","keypress","keydown","filter-abort"],setup(e,{slots:l,emit:n}){const{proxy:v}=mt(),{$q:V}=v,r=B(!1),d=B(!1),p=B(-1),b=B(""),H=B(!1),c=B(!1);let C,z,m,F,L,k,Y,N,te;const $=B(null),O=B(null),ee=B(null),ze=B(null),fe=B(null),Ie=Fl(e),oe=Dl(kt),G=h(()=>Array.isArray(e.options)?e.options.length:0),ve=h(()=>e.virtualScrollItemSize===void 0?e.dense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:qe,virtualScrollSliceSizeComputed:Ae,localResetVirtualScroll:He,padVirtualScroll:le,onVirtualScrollEvt:Le,reset:Pe,scrollTo:me,setVirtualScrollSize:Te}=ia({virtualScrollLength:G,getVirtualScrollTarget:nl,getVirtualScrollEl:xt,virtualScrollItemSizeComputed:ve}),a=Gt(),i=h(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,u=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const o=e.mapOptions===!0&&z!==void 0?z:[],g=u.map(q=>al(q,o));return e.modelValue===null&&t===!0?g.filter(q=>q!==null):g}return u}),y=h(()=>{const t={};return ra.forEach(u=>{const o=e[u];o!==void 0&&(t[u]=o)}),t}),A=h(()=>e.optionsDark===null?a.isDark.value:e.optionsDark),E=h(()=>Ot(i.value)),x=h(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||i.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),w=h(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),R=h(()=>G.value===0),_=h(()=>i.value.map(t=>U.value(t)).join(", ")),Q=h(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),ge=h(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||i.value.some(Q.value))),Me=h(()=>a.focused.value===!0?e.tabindex:-1),J=h(()=>({tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":r.value===!0?"true":"false","aria-owns":`${a.targetUid.value}_lb`,"aria-controls":`${a.targetUid.value}_lb`})),De=h(()=>{const t={id:`${a.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"};return p.value>=0&&(t["aria-activedescendant"]=`${a.targetUid.value}_${p.value}`),t}),ie=h(()=>i.value.map((t,u)=>({index:u,opt:t,html:Q.value(t),selected:!0,removeAtIndex:ll,toggleOption:ue,tabindex:Me.value}))),he=h(()=>{if(G.value===0)return[];const{from:t,to:u}=qe.value;return e.options.slice(t,u).map((o,g)=>{const q=pe.value(o)===!0,I=t+g,M={clickable:!0,active:!1,activeClass:tt.value,manualFocus:!0,focused:!1,disable:q,tabindex:-1,dense:e.optionsDense,dark:A.value,role:"option",id:`${a.targetUid.value}_${I}`,onClick:()=>{ue(o)}};return q!==!0&&(nt(o)===!0&&(M.active=!0),p.value===I&&(M.focused=!0),M["aria-selected"]=M.active===!0?"true":"false",V.platform.is.desktop===!0&&(M.onMousemove=()=>{r.value===!0&&Se(I)})),{index:I,opt:o,html:Q.value(o),label:U.value(o),selected:M.active,focused:M.focused,toggleOption:ue,setOptionIndex:Se,itemProps:M}})}),Ne=h(()=>e.dropdownIcon!==void 0?e.dropdownIcon:V.iconSet.arrow.dropdown),Be=h(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),tt=h(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),j=h(()=>at(e.optionValue,"value")),U=h(()=>at(e.optionLabel,"label")),pe=h(()=>at(e.optionDisable,"disable")),Qe=h(()=>i.value.map(t=>j.value(t))),tl=h(()=>{const t={onInput:kt,onChange:oe,onKeydown:Ct,onKeyup:bt,onKeypress:wt,onFocus:yt,onClick(u){m===!0&&Ce(u)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=oe,t});Ve(i,t=>{z=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&a.innerLoading.value!==!0&&(d.value!==!0&&r.value!==!0||E.value!==!0)&&(F!==!0&&we(),(d.value===!0||r.value===!0)&&ye(""))},{immediate:!0}),Ve(()=>e.fillInput,we),Ve(r,ot),Ve(G,hl);function pt(t){return e.emitValue===!0?j.value(t):t}function lt(t){if(t>-1&&t<i.value.length)if(e.multiple===!0){const u=e.modelValue.slice();n("remove",{index:t,value:u.splice(t,1)[0]}),n("update:modelValue",u)}else n("update:modelValue",null)}function ll(t){lt(t),a.focus()}function St(t,u){const o=pt(t);if(e.multiple!==!0){e.fillInput===!0&&Oe(U.value(t),!0,!0),n("update:modelValue",o);return}if(i.value.length===0){n("add",{index:0,value:o}),n("update:modelValue",e.multiple===!0?[o]:o);return}if(u===!0&&nt(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const g=e.modelValue.slice();n("add",{index:g.length,value:o}),g.push(o),n("update:modelValue",g)}function ue(t,u){if(a.editable.value!==!0||t===void 0||pe.value(t)===!0)return;const o=j.value(t);if(e.multiple!==!0){u!==!0&&(Oe(e.fillInput===!0?U.value(t):"",!0,!0),re()),O.value!==null&&O.value.focus(),(i.value.length===0||$e(j.value(i.value[0]),o)!==!0)&&n("update:modelValue",e.emitValue===!0?o:t);return}if((m!==!0||H.value===!0)&&a.focus(),yt(),i.value.length===0){const I=e.emitValue===!0?o:t;n("add",{index:0,value:I}),n("update:modelValue",e.multiple===!0?[I]:I);return}const g=e.modelValue.slice(),q=Qe.value.findIndex(I=>$e(I,o));if(q>-1)n("remove",{index:q,value:g.splice(q,1)[0]});else{if(e.maxValues!==void 0&&g.length>=e.maxValues)return;const I=e.emitValue===!0?o:t;n("add",{index:g.length,value:I}),g.push(I)}n("update:modelValue",g)}function Se(t){if(V.platform.is.desktop!==!0)return;const u=t>-1&&t<G.value?t:-1;p.value!==u&&(p.value=u)}function je(t=1,u){if(r.value===!0){let o=p.value;do o=$t(o+t,-1,G.value-1);while(o!==-1&&o!==p.value&&pe.value(e.options[o])===!0);p.value!==o&&(Se(o),me(o),u!==!0&&e.useInput===!0&&e.fillInput===!0&&Ue(o>=0?U.value(e.options[o]):k))}}function al(t,u){const o=g=>$e(j.value(g),t);return e.options.find(o)||u.find(o)||t}function at(t,u){const o=t!==void 0?t:u;return typeof o=="function"?o:g=>g!==null&&typeof g=="object"&&o in g?g[o]:g}function nt(t){const u=j.value(t);return Qe.value.find(o=>$e(o,u))!==void 0}function yt(t){e.useInput===!0&&O.value!==null&&(t===void 0||O.value===t.target&&t.target.value===_.value)&&O.value.select()}function _t(t){Nl(t,27)===!0&&r.value===!0&&(Ce(t),re(),we()),n("keyup",t)}function bt(t){const{value:u}=t.target;if(t.keyCode!==void 0){_t(t);return}if(t.target.value="",clearTimeout(C),we(),typeof u=="string"&&u.length>0){const o=u.toLocaleLowerCase(),g=I=>{const M=e.options.find(D=>I.value(D).toLocaleLowerCase()===o);return M===void 0?!1:(i.value.indexOf(M)===-1?ue(M):re(),!0)},q=I=>{g(j)!==!0&&(g(U)===!0||I===!0||ye(u,!0,()=>q(!0)))};q()}else a.clearValue(t)}function wt(t){n("keypress",t)}function Ct(t){if(n("keydown",t),Ql(t)===!0)return;const u=b.value.length>0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),o=t.shiftKey!==!0&&e.multiple!==!0&&(p.value>-1||u===!0);if(t.keyCode===27){rt(t);return}if(t.keyCode===9&&o===!1){_e();return}if(t.target===void 0||t.target.id!==a.targetUid.value)return;if(t.keyCode===40&&a.innerLoading.value!==!0&&r.value===!1){ce(t),be();return}if(t.keyCode===8&&e.hideSelected!==!0&&b.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?lt(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof b.value!="string"||b.value.length===0)&&(ce(t),p.value=-1,je(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&Ae.value!==void 0&&(ce(t),p.value=Math.max(-1,Math.min(G.value,p.value+(t.keyCode===33?-1:1)*Ae.value.view)),je(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(ce(t),je(t.keyCode===38?-1:1,e.multiple));const g=G.value;if((N===void 0||te<Date.now())&&(N=""),g>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===t.ctrlKey&&(t.keyCode!==32||N.length>0)){r.value!==!0&&be(t);const q=t.key.toLocaleLowerCase(),I=N.length===1&&N[0]===q;te=Date.now()+1500,I===!1&&(ce(t),N+=q);const M=new RegExp("^"+N.split("").map(it=>ua.indexOf(it)>-1?"\\"+it:it).join(".*"),"i");let D=p.value;if(I===!0||D<0||M.test(U.value(e.options[D]))!==!0)do D=$t(D+1,-1,g-1);while(D!==p.value&&(pe.value(e.options[D])===!0||M.test(U.value(e.options[D]))!==!0));p.value!==D&&ne(()=>{Se(D),me(D),D>=0&&e.useInput===!0&&e.fillInput===!0&&Ue(U.value(e.options[D]))});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||N!=="")&&(t.keyCode!==9||o===!1))){if(t.keyCode!==9&&ce(t),p.value>-1&&p.value<g){ue(e.options[p.value]);return}if(u===!0){const q=(I,M)=>{if(M){if(Qt(M)!==!0)return}else M=e.newValueMode;if(I==null)return;Oe("",e.multiple!==!0,!0),(M==="toggle"?ue:St)(I,M==="add-unique"),e.multiple!==!0&&(O.value!==null&&O.value.focus(),re())};if(e.onNewValue!==void 0?n("new-value",b.value,q):q(b.value),e.multiple!==!0)return}r.value===!0?_e():a.innerLoading.value!==!0&&be()}}function xt(){return m===!0?fe.value:ee.value!==null&&ee.value.__qPortalInnerRef.value!==null?ee.value.__qPortalInnerRef.value:void 0}function nl(){return xt()}function ol(){return e.hideSelected===!0?[]:l["selected-item"]!==void 0?ie.value.map(t=>l["selected-item"](t)).slice():l.selected!==void 0?[].concat(l.selected()):e.useChips===!0?ie.value.map((t,u)=>s(Zt,{key:"option-"+u,removable:a.editable.value===!0&&pe.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:Me.value,onRemove(){t.removeAtIndex(u)}},()=>s("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:U.value(t.opt)}))):[s("span",{[ge.value===!0?"innerHTML":"textContent"]:e.displayValue!==void 0?e.displayValue:_.value})]}function Vt(){if(R.value===!0)return l["no-option"]!==void 0?l["no-option"]({inputValue:b.value}):void 0;const t=l.option!==void 0?l.option:o=>s(Kt,T({key:o.index},o.itemProps),()=>s(vt,()=>s(Ut,()=>s("span",{[o.html===!0?"innerHTML":"textContent"]:o.label}))));let u=le("div",he.value.map(t));return l["before-options"]!==void 0&&(u=l["before-options"]().concat(u)),jl(l["after-options"],u)}function il(t,u){const o=u===!0?T(T({},J.value),a.splitAttrs.attributes.value):void 0,g=T(W(T({ref:u===!0?O:void 0,key:"i_t",class:x.value,style:e.inputStyle,value:b.value!==void 0?b.value:"",type:"search"},o),{id:u===!0?a.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t!==!0&&e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0}),tl.value);return t!==!0&&m===!0&&(Array.isArray(g.class)===!0?g.class=[...g.class,"no-pointer-events"]:g.class+=" no-pointer-events"),s("input",g)}function kt(t){clearTimeout(C),!(t&&t.target&&t.target.composing===!0)&&(Ue(t.target.value||""),F=!0,k=b.value,a.focused.value!==!0&&(m!==!0||H.value===!0)&&a.focus(),e.onFilter!==void 0&&(C=setTimeout(()=>{ye(b.value)},e.inputDebounce)))}function Ue(t){b.value!==t&&(b.value=t,n("input-value",t))}function Oe(t,u,o){F=o!==!0,e.useInput===!0&&(Ue(t),(u===!0||o!==!0)&&(k=t),u!==!0&&ye(t))}function ye(t,u,o){if(e.onFilter===void 0||u!==!0&&a.focused.value!==!0)return;a.innerLoading.value===!0?n("filter-abort"):(a.innerLoading.value=!0,c.value=!0),t!==""&&e.multiple!==!0&&i.value.length>0&&F!==!0&&t===U.value(i.value[0])&&(t="");const g=setTimeout(()=>{r.value===!0&&(r.value=!1)},10);clearTimeout(L),L=g,n("filter",t,(q,I)=>{(u===!0||a.focused.value===!0)&&L===g&&(clearTimeout(L),typeof q=="function"&&q(),c.value=!1,ne(()=>{a.innerLoading.value=!1,a.editable.value===!0&&(u===!0?r.value===!0&&re():r.value===!0?ot(!0):r.value=!0),typeof I=="function"&&ne(()=>{I(v)}),typeof o=="function"&&ne(()=>{o(v)})}))},()=>{a.focused.value===!0&&L===g&&(clearTimeout(L),a.innerLoading.value=!1,c.value=!1),r.value===!0&&(r.value=!1)})}function ul(){return s(wl,W(T({ref:ee,class:w.value,style:e.popupContentStyle,modelValue:r.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&R.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:A.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:Be.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0},De.value),{onScrollPassive:Le,onBeforeShow:It,onBeforeHide:rl,onShow:sl}),Vt)}function rl(t){qt(t),_e()}function sl(){Te()}function cl(t){Ce(t),O.value!==null&&O.value.focus(),H.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function dl(t){Ce(t),ne(()=>{H.value=!1})}function fl(){const t=[s(ta,W(T(W(T({class:`col-auto ${a.fieldClass.value}`},y.value),{for:a.targetUid.value,dark:A.value,square:!0,loading:c.value,itemAligned:!1,filled:!0,stackLabel:b.value.length>0}),a.splitAttrs.listeners.value),{onFocus:cl,onBlur:dl}),W(T({},l),{rawControl:()=>a.getControl(!0),before:void 0,after:void 0}))];return r.value===!0&&t.push(s("div",W(T({ref:fe,class:w.value+" scroll",style:e.popupContentStyle},De.value),{onClick:rt,onScrollPassive:Le}),Vt())),s(Ze,{ref:ze,modelValue:d.value,position:e.useInput===!0?"top":void 0,transitionShow:Y,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:It,onBeforeHide:vl,onHide:ml,onShow:gl},()=>s("div",{class:"q-select__dialog"+(A.value===!0?" q-select__dialog--dark q-dark":"")+(H.value===!0?" q-select__dialog--focused":"")},t))}function vl(t){qt(t),ze.value!==null&&ze.value.__updateRefocusTarget(a.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),a.focused.value=!1}function ml(t){re(),a.focused.value===!1&&n("blur",t),we()}function gl(){const t=document.activeElement;(t===null||t.id!==a.targetUid.value)&&O.value!==null&&O.value!==t&&O.value.focus(),Te()}function _e(){d.value!==!0&&(p.value=-1,r.value===!0&&(r.value=!1),a.focused.value===!1&&(clearTimeout(L),L=void 0,a.innerLoading.value===!0&&(n("filter-abort"),a.innerLoading.value=!1,c.value=!1)))}function be(t){a.editable.value===!0&&(m===!0?(a.onControlFocusin(t),d.value=!0,ne(()=>{a.focus()})):a.focus(),e.onFilter!==void 0?ye(b.value):(R.value!==!0||l["no-option"]!==void 0)&&(r.value=!0))}function re(){d.value=!1,_e()}function we(){e.useInput===!0&&Oe(e.multiple!==!0&&e.fillInput===!0&&i.value.length>0&&U.value(i.value[0])||"",!0,!0)}function ot(t){let u=-1;if(t===!0){if(i.value.length>0){const o=j.value(i.value[0]);u=e.options.findIndex(g=>$e(j.value(g),o))}He(u)}Se(u)}function hl(){r.value===!0&&a.innerLoading.value===!1&&(Pe(),ne(()=>{r.value===!0&&a.innerLoading.value===!1&&ot(!0)}))}function zt(){d.value===!1&&ee.value!==null&&ee.value.updatePosition()}function It(t){t!==void 0&&Ce(t),n("popup-show",t),a.hasPopupOpen=!0,a.onControlFocusin(t)}function qt(t){t!==void 0&&Ce(t),n("popup-hide",t),a.hasPopupOpen=!1,a.onControlFocusout(t)}function At(){m=V.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?l["no-option"]!==void 0||e.onFilter!==void 0||R.value===!1:!0),Y=V.platform.is.ios===!0&&m===!0&&e.useInput===!0?"fade":e.transitionShow}return Ll(At),Pl(zt),At(),Jt(()=>{clearTimeout(C)}),Object.assign(v,{showPopup:be,hidePopup:re,removeAtIndex:lt,add:St,toggleOption:ue,getOptionIndex:()=>p.value,setOptionIndex:Se,moveOptionSelection:je,filter:ye,updateMenuPosition:zt,updateInputValue:Oe,isOptionSelected:nt,getEmittingOptionValue:pt,isOptionDisabled:(...t)=>pe.value.apply(null,t)===!0,getOptionValue:(...t)=>j.value.apply(null,t),getOptionLabel:(...t)=>U.value.apply(null,t)}),Object.assign(a,{innerValue:i,fieldClass:h(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:$,targetRef:O,hasValue:E,showPopup:be,floatingLabel:h(()=>(e.hideSelected===!0?b.value.length>0:E.value===!0)||Ot(e.displayValue)),getControlChild:()=>{if(a.editable.value!==!1&&(d.value===!0||R.value!==!0||l["no-option"]!==void 0))return m===!0?fl():ul();a.hasPopupOpen===!0&&(a.hasPopupOpen=!1)},controlEvents:{onFocusin(t){a.onControlFocusin(t)},onFocusout(t){a.onControlFocusout(t,()=>{we(),_e()})},onClick(t){if(rt(t),m!==!0&&r.value===!0){_e(),O.value!==null&&O.value.focus();return}be(t)}},getControl:t=>{const u=ol(),o=t===!0||d.value!==!0||m!==!0;if(e.useInput===!0)u.push(il(t,o));else if(a.editable.value===!0){const q=o===!0?J.value:void 0;u.push(s("input",W(T({ref:o===!0?O:void 0,key:"d_t",class:"q-select__focus-target",id:o===!0?a.targetUid.value:void 0,readonly:!0},q),{onKeydown:Ct,onKeyup:_t,onKeypress:wt}))),o===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length>0&&u.push(s("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,onKeyup:bt}))}if(Ie.value!==void 0&&e.disable!==!0&&Qe.value.length>0){const q=Qe.value.map(I=>s("option",{value:I,selected:!0}));u.push(s("select",{class:"hidden",name:Ie.value,multiple:e.multiple},q))}const g=e.useInput===!0||o!==!0?void 0:a.splitAttrs.attributes.value;return s("div",T({class:"q-field__native row items-center"},g),u)},getInnerAppend:()=>e.loading!==!0&&c.value!==!0&&e.hideDropdownIcon!==!0?[s(Je,{class:"q-select__dropdown-icon"+(r.value===!0?" rotate-180":""),name:Ne.value})]:null}),Yt(a)}});const ca=[{messageId:1,sender:"Human",message_text:"Hello, who are you?"},{messageId:2,sender:"AI",message_text:"I am an AI created by OpenAI. How can I help you today?"}];var da={messages:ca},Ge,fa=new Uint8Array(16);function va(){if(!Ge&&(Ge=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Ge))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ge(fa)}var ma=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function ga(e){return typeof e=="string"&&ma.test(e)}var P=[];for(var ft=0;ft<256;++ft)P.push((ft+256).toString(16).substr(1));function ha(e){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(P[e[l+0]]+P[e[l+1]]+P[e[l+2]]+P[e[l+3]]+"-"+P[e[l+4]]+P[e[l+5]]+"-"+P[e[l+6]]+P[e[l+7]]+"-"+P[e[l+8]]+P[e[l+9]]+"-"+P[e[l+10]]+P[e[l+11]]+P[e[l+12]]+P[e[l+13]]+P[e[l+14]]+P[e[l+15]]).toLowerCase();if(!ga(n))throw TypeError("Stringified UUID is invalid");return n}function jt(e,l,n){e=e||{};var v=e.random||(e.rng||va)();if(v[6]=v[6]&15|64,v[8]=v[8]&63|128,l){n=n||0;for(var V=0;V<16;++V)l[n+V]=v[V];return l}return ha(v)}const pa=Kl({name:"IndexPage",Components:{},data:function(){return{convo_template:`The following is a conversation with an AI assistant. The assistant is helpful, creative, clever, and very friendly.\r
\r
Human: Hello, who are you?\r
AI: I am an AI created by OpenAI. How can I help you today?\r
Human: `,summarization_template:`The following is a conversation with an AI assistant. The assistant is helpful, creative, clever, and very friendly.\r
\r
Human: Hello, who are you?\r
AI: I am an AI created by OpenAI. How can I help you today?\r
Human: Can you summarize this into one sentance for me?\r
`,summarization_long_template:`The following is a conversation with an AI assistant. The assistant is helpful, creative, clever, and very friendly.\r
\r
Human: Hello, who are you?\r
AI: I am an AI created by OpenAI. How can I help you today?\r
Human: Can you summarize the following text?\r
`,summarization_dev_template:`The following is a conversation with an AI assistant. The conversation is about software development.\r
\r
Human: Hello, who are you?\r
AI: I am an AI created by OpenAI. How can I help you today?\r
Human: Can you summarize the following text?\r
`,generic_conversation_template:`The following is a conversation with an AI assistant. The assistant is helpful, creative, clever, and very friendly.\r
\r
Human: Hello, who are you?\r
AI: I am an AI created by OpenAI. How can I help you today?\r
Human: `,convo_json:{messages:[]},user_input:"",msg_sequence:2,toggle_spinner:!1,user_id:24,is_signed_in:!0,avatar:"human_1",bot_avatar:"owley",is_loading:!1,message_prefix:"",prompt_type:"generic_conversation",ai_model_engines:["text-davinci-002","text-curie-001","text-babbage-001","text-ada-001"],ai_model_engine:"text-davinci-002",showTokenWarning:!1,templates:[{label:"Generic conversation (default)",value:"generic_conversation",color:"pink"},{label:"Summarization - into one sentance",value:"summarization",color:"pink"},{label:"Summarization",value:"summarization_long",color:"pink"},{label:"Summarization - software development",value:"summarization_dev",color:"pink"}],selected_template:"generic_conversation"}},computed:{screenSize(){return this.$q.screen.width},getTokenCount(){var e=this;return Math.round((e.convo_template.length+e.user_input.length)/4)},getBotAvatarPath(){var e=this;return e.is_loading?"/icons/white_square.png":e.bot_avatar==="green_spark"?"/icons/green_spark.png":e.bot_avatar==="penguin"?"/icons/penguin.png":e.bot_avatar==="default"?"/icons/default.png":e.bot_avatar==="diaspora"?"/icons/diaspora.png":"/icons/owley.png"},getHumanAvatarPath(){var e=this;return e.is_loading?"/icons/white_square.png":e.avatar==="human_2"?"/icons/human_2.png":e.avatar==="human_3"?"/icons/human_3.png":e.avatar==="human_4"?"/icons/human_4.png":e.avatar==="human_5"?"/icons/human_5.png":"/icons/human_1.png"}},created:function(){var e=this;localStorage.user_id&&(this.user_id=localStorage.user_id,this.is_signed_in=!0,e.getSettings()),e.loadTemplate("Conversation"),document.addEventListener("keydown",l);function l(n){n.code==="Enter"&&e.user_input!=""&&(e.$refs.userinput.blur(),e.send_message())}},mounted(){},watch:{selected_template(e){var l=this;l.loadTemplate(e),l.show_templates=!1},name(e){console.log("watcher firing"),localStorage.user_id=e}},methods:{loadTemplate:function(e){var l=this;e==="generic_conversation"?(l.prompt_type="generic_conversation",l.convo_template=l.generic_conversation_template):e==="summarization"?(l.prompt_type="summarization",l.convo_template=l.summarization_template,l.message_prefix=`Can you summarize this into one sentance for me?\r
`):e==="summarization_long"?(l.prompt_type="summarization",l.convo_template=l.summarization_long_template,l.message_prefix=`Can you summarize the following text?\r
`):e==="summarization_dev"&&(l.prompt_type="summarization",l.convo_template=l.summarization_dev_template,l.message_prefix=`Can you summarize the following text?\r
`),l.convo_json=da},add_quotes_for_summarization:function(e){return Ye.startsWith(e,'"')&&Ye.endsWith(e,'"')||Ye.startsWith(e,"'")&&Ye.endsWith(e,"'")?e:`"${e}"`},logInput:function(){var e=this;console.log(e.user_input)},send_message:function(){var e=this;e.prompt_type=="summarization"&&(e.user_input=e.add_quotes_for_summarization(e.user_input));var l={messageId:jt(),sender:"Human",message_text:e.message_prefix+e.user_input};l.messageId=l.messageId+1,e.convo_json.messages.push(l),e.toggle_spinner=!0,e.convo_template=String(e.convo_template)+String(e.user_input)+`\r
AI:`,e.user_input="";const n={"Content-Type":"application/json"};Dt.post("https://digissist-server.azurewebsites.net/completions",{engine:e.ai_model_engine,prompt:e.convo_template,max_tokens:150,temperature:.9,top_p:1,n:1,frequency_penalty:0,presence_penalty:.6,stream:!1,logprobs:null,user:String(e.user_id)},{headers:n}).then(function(v){var V={messageId:jt(),sender:"AI",message_text:String(v.data.choices[0].text)};e.toggle_spinner=!1,e.convo_json.messages.push(V),e.convo_template=String(e.convo_template)+String(V.message_text)+`\r
Human: `,console.log(":::Messages Obj:::"),console.log(e.convo_json),console.log(":::Messages str:::"),console.log(e.convo_template)}).catch(function(v){console.log(v),e.toggle_spinner=!1}).then(function(){e.prompt_type="generic_conversation",e.message_prefix=""})},getSettings:function(){var e=this;e.is_loading=!0,e.is_signed_in&&Dt.get(`https://digissist-server.azurewebsites.net/users/${localStorage.user_id}/settings`,{headers:{Authorization:"Bearer "+localStorage.token}}).then(function(l){e.bot_avatar=l.data.bot_avatar,e.avatar=l.data.avatar}).catch(function(l){console.log(l),l.response.status==403&&(localStorage.removeItem("user_id"),localStorage.removeItem("token"),e.is_signed_in=!1,e.$router.push("/login"))}).then(function(){e.is_loading=!1})}},setup(){return{card:B(!1),show_settings:B(!1),show_templates:B(!1)}}}),ht=e=>(Wl("data-v-59ff5d82"),e=e(),Xl(),e),Sa={class:"q-pa-xs row justify-center"},ya={style:{width:"100%","max-width":"500px"}},_a=["src"],ba=["src"],wa={class:"q-pa-xs"},Ca={style:{"max-width":"500px"}},xa=["src"],Va=de(" Token limit reached. Refresh the page to start a new conversation. "),ka={class:"row justify-center"},za=de("Edit prompt"),Ia=de("Templates"),qa=de("Token limit"),Aa=ht(()=>K("div",{class:"text-h6"},"Edit prompt text:",-1)),Ha=ht(()=>K("div",{class:"text-h6"},"AI Settings:",-1)),Ta=de(" Davinci is the most powerful. Ada is the fastest. "),Ma=ht(()=>K("div",{class:"text-h6"},"Choose a prompt template:",-1));function Ba(e,l,n,v,V,r){return Ee(),st("div",Sa,[K("div",ya,[f(Ke,{class:"my-card",style:{"padding-bottom":"10px"}},{default:S(()=>[f(ae,{style:{padding:"10px"}},{default:S(()=>[(Ee(!0),st(Et,null,Rt(e.convo_json.messages,d=>(Ee(),Pt(ct,{key:d.messageId,name:d.sender,text:[d.message_text],sent:d.sender!="AI","bg-color":d.sender=="AI"?"pink":"light-grey","text-color":d.sender=="AI"?"white":"black"},{avatar:S(p=>[Z(f(Mt,{size:e.screenSize>600?"58px":"48px",props:p,class:"q-mx-xs"},{default:S(()=>[Z(K("img",{src:e.getBotAvatarPath},null,8,_a),[[xe,d.sender=="AI"]]),Z(K("img",{src:e.getHumanAvatarPath},null,8,ba),[[xe,d.sender!="AI"]])]),_:2},1032,["size","props"]),[[xe,!e.is_loading]]),Z(K("div",wa,[f(Yl,{color:"pink",size:"2em"})],512),[[xe,e.is_loading]])]),_:2},1032,["name","text","sent","bg-color","text-color"]))),128)),Z(f(ct,{name:"AI",avatar:e.getBotAvatarPath,"bg-color":"pink","text-color":"white"},{default:S(()=>[f(Zl,{size:"2rem"})]),_:1},8,["avatar"]),[[xe,e.toggle_spinner]])]),_:1}),f(We),f(ae,{style:{padding:"8px"}},{default:S(()=>[K("div",Ca,[Z(f(ct,{style:{"font-style":"italic"},size:"10",name:"Human",text:[e.message_prefix],"text-color":"grey-7",sent:""},{avatar:S(()=>[f(Mt,{size:e.screenSize>600?"58px":"38px",class:"q-mx-xs"},{default:S(()=>[K("img",{src:e.getHumanAvatarPath},null,8,xa)]),_:1},8,["size"])]),_:1},8,["text"]),[[xe,e.prompt_type=="summarization"]]),f(Ft,{modelValue:e.user_input,"onUpdate:modelValue":l[0]||(l[0]=d=>e.user_input=d),outlined:"",color:"pink",autogrow:"",disable:e.toggle_spinner||e.getTokenCount>1024,placeholder:e.prompt_type=="summarization"?"[Insert Text Here]":"","placeholder-color":"orange",ref:"userinput",error:e.getTokenCount>1024,"hide-bottom-space":""},{append:S(()=>[f(se,{size:e.screenSize>600?"md":"sm",round:"",dense:"",flat:"",icon:"send",onClick:e.send_message},null,8,["size","onClick"])]),error:S(()=>[Va]),_:1},8,["modelValue","disable","placeholder","error"])])]),_:1}),f(Xe,{align:"around"},{default:S(()=>[K("div",ka,[f(se,{size:e.screenSize>600?"md":"sm",outline:"",color:"pink",icon:"edit_note",onClick:l[1]||(l[1]=d=>e.card=!0),class:"q-mx-xs q-mb-md"},{default:S(()=>[za]),_:1},8,["size"]),f(se,{size:e.screenSize>600?"md":"sm",outline:"",color:"pink",icon:"collections_bookmark",onClick:l[2]||(l[2]=d=>e.show_templates=!0),class:"q-mx-xs q-mb-md"},{default:S(()=>[Ia]),_:1},8,["size"]),f(se,{size:e.screenSize>600?"md":"sm",outline:"",color:"pink",icon:"settings",onClick:l[3]||(l[3]=d=>e.show_settings=!0),class:"q-mx-xs q-mb-md"},null,8,["size"]),f(Zt,{dense:"",class:"q-mx-xs q-mb-md",color:e.getTokenCount>1024?"pink":"light-grey","text-color":e.getTokenCount>1024?"white":"grey-6",size:e.screenSize>600?"md":"sm"},{default:S(()=>[de(Lt(e.getTokenCount)+"/1024 ",1),f(Bt,null,{default:S(()=>[qa]),_:1})]),_:1},8,["color","text-color","size"])]),f(Ze,{modelValue:e.card,"onUpdate:modelValue":l[6]||(l[6]=d=>e.card=d)},{default:S(()=>[f(Ke,{class:"my-card",style:{width:"400px"}},{default:S(()=>[f(ae,null,{default:S(()=>[Aa]),_:1}),f(ae,null,{default:S(()=>[K("div",null,[f(Ft,{modelValue:e.convo_template,"onUpdate:modelValue":l[4]||(l[4]=d=>e.convo_template=d),outlined:"",color:"pink",type:"textarea",autogrow:"",onFocus:l[5]||(l[5]=d=>e.user_input="")},null,8,["modelValue"])])]),_:1}),f(We),f(Xe,{align:"right"},{default:S(()=>[Z(f(se,{outline:"",color:"pink",label:"Okay"},null,512),[[ut]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),f(Ze,{modelValue:e.show_settings,"onUpdate:modelValue":l[8]||(l[8]=d=>e.show_settings=d)},{default:S(()=>[f(Ke,{class:"my-card",style:{width:"400px"}},{default:S(()=>[f(ae,null,{default:S(()=>[Ha]),_:1}),f(ae,null,{default:S(()=>[K("div",null,[f(sa,{outlined:"",modelValue:e.ai_model_engine,"onUpdate:modelValue":l[7]||(l[7]=d=>e.ai_model_engine=d),options:e.ai_model_engines,label:"GPT-3 model engine",color:"pink"},{default:S(()=>[f(Bt,{anchor:"top middle",self:"bottom middle",offset:[10,10]},{default:S(()=>[Ta]),_:1})]),_:1},8,["modelValue","options"])])]),_:1}),f(We),f(Xe,{align:"right"},{default:S(()=>[Z(f(se,{outline:"",color:"pink",label:"Okay"},null,512),[[ut]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),f(Ze,{modelValue:e.show_templates,"onUpdate:modelValue":l[10]||(l[10]=d=>e.show_templates=d)},{default:S(()=>[f(Ke,{class:"my-card",style:{width:"400px"}},{default:S(()=>[f(ae,null,{default:S(()=>[Ma]),_:1}),f(ae,null,{default:S(()=>[K("div",null,[f(Cl,{bordered:"",separator:""},{default:S(()=>[(Ee(!0),st(Et,null,Rt(e.templates,d=>Z((Ee(),Pt(Kt,{tag:"label",key:d.value},{default:S(()=>[f(vt,{avatar:""},{default:S(()=>[f(Gl,{modelValue:e.selected_template,"onUpdate:modelValue":l[9]||(l[9]=p=>e.selected_template=p),val:d.value,color:"pink"},null,8,["modelValue","val"])]),_:2},1024),f(vt,null,{default:S(()=>[f(Ut,null,{default:S(()=>[de(Lt(d.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[Wt]])),128))]),_:1})])]),_:1}),f(We),f(Xe,{align:"right"},{default:S(()=>[Z(f(se,{outline:"",color:"pink",label:"Okay"},null,512),[[ut]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})])])}var La=Ul(pa,[["render",Ba],["__scopeId","data-v-59ff5d82"]]);export{La as default};
